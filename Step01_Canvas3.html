<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Step01_Canvas3.html</title>
	<style>
		#myCanvas{
			border: 1px solid red;
		}
	</style>
</head>
<body>
<canvas id="myCanvas" width="500" height="500"></canvas>
<script src="js/jquery-3.3.1.js"></script>
<script>
	//canvas 요소의 참조값 얻어오기 
	//var canvas=$("#myCanvas")[0];
	var canvas=document.querySelector("#myCanvas");
	//canvas 에 렌더링 할수 있는 context 의 참조값 얻어오기
	var context=canvas.getContext("2d");

	//이미지 로딩하기
	var rabbitImg=new Image();
	//이미지가 로딩 완전히 로딩될때 까지 기다리지 않는다. 
	rabbitImg.src="images/rabbit_1.png";

	//이미지 로딩이 완료 되었을때 호출되는 함수 등록 
	// rabbitImg.onload=function(){
	//   context.drawImage(rabbitImg, 0, 0, 100, 100);	
	// };

	//토끼의 x, y 좌표를 저장할 변수 
	var rabbitX=250;
	var rabbitY=250;

	// 20/1000 초 마다 새로 그리기 
	setInterval(function(){
		//canvas 의 특정 사각형 영역 clear
		// .clearRect(x, y, width, height)
		context.clearRect(0, 0, 500, 500);
		//토끼 그리기 
		context.drawImage(rabbitImg, rabbitX-50, rabbitY-50, 100, 100);
	}, 20);

	// canvas 안에서의 mouse 의 좌표를 rabbitX, rabbitY 에 반영
	$("#myCanvas").on("mousemove", function(event){
		//이벤트가 일어난 곳의 좌표를 토끼의 좌표에 반영
		rabbitX=event.offsetX;
		rabbitY=event.offsetY;
	}); 

</script>	
</body>
</html>